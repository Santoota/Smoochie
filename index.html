<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>1 Year</title>
  <meta name="description" content="Our 1-year anniversary page." />

  <style>
    /* ‚úÖ FONT: one file only (handles both "ValentineRose.ttf" and "Valentine Rose.ttf") */
    @font-face{
      font-family: "Valentine Rose";
      src:
        url("./ValentineRose.ttf") format("truetype"),
        url("./Valentine%20Rose.ttf") format("truetype");
      font-display: swap;
    }

    :root{
      --bg1:#0b1020;
      --bg2:#1a0f2e;
      --card:#ffffff10;
      --card2:#ffffff14;
      --text:#f7f7fb;
      --muted:#d9d9e6cc;
      --accent:#ff77b7;
      --accent2:#7bdcff;
      --radius:22px;
      --shadow: 0 18px 50px rgba(0,0,0,.35);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Valentine Rose", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 20% 10%, #ff77b720 0%, transparent 55%),
        radial-gradient(900px 700px at 90% 20%, #7bdcff1f 0%, transparent 55%),
        radial-gradient(900px 700px at 40% 90%, #a855f71a 0%, transparent 55%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    .wrap{max-width:1100px;margin:0 auto;padding:28px 18px 70px}
    .topbar{
      display:flex;align-items:center;justify-content:space-between;gap:14px;
      position:sticky;top:0;z-index:20;
      padding:14px 10px;
      backdrop-filter: blur(10px);
      background: linear-gradient(to bottom, rgba(11,16,32,.72), rgba(11,16,32,.25));
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .brand{display:flex;align-items:center;gap:12px;font-weight:700}
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;border-radius:999px;
      background: linear-gradient(90deg, rgba(255,119,183,.18), rgba(123,220,255,.14));
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      font-size:13px;color:var(--muted);
      white-space:nowrap;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    .btn{
      border:0;cursor:pointer;
      padding:10px 14px;border-radius:999px;
      background: linear-gradient(90deg, rgba(255,119,183,.92), rgba(123,220,255,.82));
      color:#0b1020;font-weight:800;
      box-shadow: 0 12px 35px rgba(0,0,0,.35);
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    .btn:hover{transform: translateY(-1px); filter:saturate(1.05)}
    .btn:active{transform: translateY(0px) scale(.98)}
    .ghost{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding:10px 12px;border-radius:999px;
      cursor:pointer;
      transition: transform .12s ease;
      font-weight:700;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    .ghost:hover{transform: translateY(-1px)}
    .ghost:active{transform: translateY(0px) scale(.98)}

    .hero{
      margin-top:22px;
      display:grid;grid-template-columns: 1.2fr .8fr;gap:18px;
      align-items:stretch;
    }
    @media (max-width: 860px){ .hero{grid-template-columns:1fr} }

    .card{
      background: linear-gradient(180deg, var(--card), transparent 120%);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card-inner{padding:26px}
    .spark{
      position:absolute; inset:-2px;
      background: radial-gradient(500px 260px at 15% 10%, rgba(255,119,183,.22), transparent 70%),
                  radial-gradient(520px 260px at 85% 20%, rgba(123,220,255,.18), transparent 70%);
      pointer-events:none;
      opacity:.85;
    }

    .h1{
      font-size: clamp(30px, 4.4vw, 54px);
      line-height:1.05;margin:0 0 10px;letter-spacing:-.3px;
      text-shadow: 0 12px 30px rgba(0,0,0,.35);
    }
    .sub{
      margin:0 0 18px;
      color:var(--muted);
      font-size:16px;
      line-height:1.6;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    .pills{display:flex;flex-wrap:wrap;gap:10px;margin-top:14px}
    .pill{
      font-size:13px;color:var(--muted);
      padding:8px 12px;border-radius:999px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.10);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    .mini{display:grid;gap:12px}
    .mini .tile{
      padding:18px;
      background: linear-gradient(180deg, var(--card2), transparent 120%);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 18px;
    }
    .mini .k{font-weight:800;margin:0 0 6px}
    .mini .v{
      margin:0;
      color:var(--muted);
      line-height:1.55;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    .section{margin-top:22px}
    .section h2{
      margin:0 0 10px;
      font-size: clamp(22px, 2.7vw, 34px);
      letter-spacing:-.2px;
    }
    .section p{
      margin:0;color:var(--muted);line-height:1.65;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    /* Slider */
    .slider-card{padding:0}
    .slider-head{
      display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:10px;
      padding:18px 18px 0;
    }
    .hint{
      font-size:13px;color:var(--muted);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    input[type="file"]{display:none}
    .slider{padding:14px 18px 18px}
    .track{
      display:flex;gap:14px;overflow-x:auto;
      scroll-snap-type: x mandatory;
      scroll-behavior:smooth;
      padding: 10px 2px 14px;
      -webkit-overflow-scrolling: touch;
    }
    .track::-webkit-scrollbar{height:10px}
    .track::-webkit-scrollbar-thumb{background:rgba(255,255,255,.15);border-radius:999px}
    .slide{
      flex: 0 0 92%;
      scroll-snap-align: center;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      overflow:hidden;
      position:relative;
      background: rgba(0,0,0,.18);
      min-height: 360px;
    }
    @media (min-width: 860px){ .slide{flex-basis: 72%; min-height: 420px} }
    .slide img{
      width:100%; height:100%;
      object-fit: cover; display:block;
      transform: scale(1.02);
      filter: saturate(1.03) contrast(1.02);
    }
    .cap{
      position:absolute; left:12px; right:12px; bottom:12px;
      background: linear-gradient(180deg, transparent, rgba(0,0,0,.62));
      padding:16px 14px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(8px);
    }
    .cap .t{margin:0;font-weight:900}
    .cap .d{
      margin:4px 0 0;color:rgba(255,255,255,.85);font-size:13px;line-height:1.35;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    .dots{display:flex;gap:8px;justify-content:center;align-items:center;padding: 0 0 18px}
    .dot{
      width:8px;height:8px;border-radius:99px;
      background: rgba(255,255,255,.22);
      border:1px solid rgba(255,255,255,.18);
      cursor:pointer;
      transition: transform .12s ease, background .12s ease;
    }
    .dot.active{
      background: linear-gradient(90deg, rgba(255,119,183,.95), rgba(123,220,255,.85));
      transform: scale(1.25);
    }

    /* Hearts */
    .hearts{position:fixed;inset:0;pointer-events:none;overflow:hidden;z-index:5}
    .heart{
      position:absolute;width:14px;height:14px;transform: rotate(45deg);
      opacity:.18;background: rgba(255,119,183,.9);
      animation: floatUp linear forwards;
    }
    .heart::before,.heart::after{
      content:"";position:absolute;width:14px;height:14px;border-radius:50%;background: inherit;
    }
    .heart::before{left:-7px;top:0}
    .heart::after{left:0;top:-7px}
    @keyframes floatUp{
      from{transform: translateY(20px) rotate(45deg); opacity:0}
      10%{opacity:.22}
      to{transform: translateY(-120vh) rotate(45deg); opacity:0}
    }

    footer{
      margin-top:26px;color:var(--muted);font-size:13px;text-align:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    .small{
      font-size:12px;color:var(--muted);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    /* On-card image error box */
    .img-err{
      height:100%;
      display:grid;
      place-items:center;
      padding:20px;
      text-align:center;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    .img-err .big{font-weight:900;margin-bottom:6px}
    .img-err .path{opacity:.8;font-size:13px;word-break:break-all}
  </style>
</head>

<body>
  <div class="hearts" id="hearts" aria-hidden="true"></div>

  <div class="topbar">
    <div class="brand">
      <div style="font-size:18px">üíñ</div>
      <div>Cristian & Daniela</div>
      <div class="badge" id="badge">Loading‚Ä¶</div>
    </div>
    <div style="display:flex;gap:10px;align-items:center">
      <button class="ghost" id="toggleHearts" type="button">Hearts: On</button>
      <button class="btn" id="scrollToPhotos" type="button">Go to Photos</button>
    </div>
  </div>

  <main class="wrap">
    <section class="hero">
      <div class="card">
        <div class="spark"></div>
        <div class="card-inner">
          <h1 class="h1" id="title">Happy 1 Year ‚ú®</h1>
          <p class="sub" id="subtitle">
            One year of us ‚Äî the laughs, the late nights, the little moments that became everything.
          </p>

          <div class="pills">
            <div class="pill">üìÖ <span id="annivDateText">February 25, 2025</span></div>
            <div class="pill">‚è≥ <span id="daysText">0 days</span></div>
            <div class="pill">ü´∂ <span id="lineText">One year, infinite memories</span></div>
          </div>

          <div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap">
            <button class="btn" id="play" type="button">‚ñ∂ Auto-Play Photos</button>
            <button class="ghost" id="pause" type="button">‚è∏ Pause</button>
          </div>

          <p class="small" style="margin-top:12px">
            Photos must be in the <b>same folder</b> as <b>index.html</b> (IMG1.JPEG, IMG2.JPEG, ‚Ä¶).
          </p>
        </div>
      </div>

      <div class="card">
        <div class="card-inner mini">
          <div class="tile">
            <p class="k">A short note</p>
            <p class="v" id="note">
              One year later and I still get that stupid-happy smile because of you. (Rude.)
            </p>
          </div>

          <div class="tile">
            <p class="k">Our promise</p>
            <p class="v" id="promise">
              More adventures, more patience, more laughs ‚Äî and yes, I‚Äôll still hold your hand in public.
            </p>
          </div>
          <!-- ‚úÖ Tonight's plan removed -->
        </div>
      </div>
    </section>

    <section class="section" id="photos">
      <h2>Memory Roll</h2>
   

      <div class="card slider-card section" style="margin-top:14px">
        <div class="slider-head">
          <div class="hint">If an image doesn‚Äôt load, the card will show the filename it tried to open.</div>
          <div class="controls" style="display:flex;gap:10px;flex-wrap:wrap">
            <button class="ghost" id="prev" type="button">‚Üê Prev</button>
            <button class="ghost" id="next" type="button">Next ‚Üí</button>
            <label class="ghost" for="uploader" style="display:inline-flex;align-items:center;gap:8px">‚¨Ü Upload Photos</label>
            <input id="uploader" type="file" accept="image/*" multiple />
          </div>
        </div>

        <div class="slider">
          <div class="track" id="track" aria-label="Photo slider"></div>
        </div>
        <div class="dots" id="dots" aria-label="Slide navigation"></div>
      </div>
    </section>

    <section class="section">
      <h2>One year down‚Ä¶</h2>
      <p id="closing">‚Ä¶a lifetime to go. Same team, same love, forever.</p>
    </section>
    <p style="margin:22px 0 10px; text-align:center; font-size:28px; line-height:1.2;">
  My sole promise is to be yours üíñ‚ú®
</p>

    <footer>Made with love ‚ù§Ô∏è</footer>
  </main>

  <script>
    /***********************
     * CONFIG (EDIT THIS)  *
     ***********************/
    const CONFIG = {
      names: "Cristian & Daniela",
      oneYearAnniversary: "2025-02-25",
      relationshipStart: "2024-02-25",

      title: "Happy 1 Year, {names} ‚ú®",
      subtitle: "One year of us ‚Äî the laughs, the late nights, the little moments that became everything.",
      line: "One year, infinite memories",

      note: "One year later and I still get that stupid-happy smile because of you. (Rude.)",
      promise: "More adventures, more patience, more laughs ‚Äî and yes, I‚Äôll still hold your hand in public.",
      closing: "‚Ä¶a lifetime to go. Same team, same love, forever.",

      // ‚úÖ Your images (same folder as index.html)
      slides: [
        { src: "IMG1.JPEG", title: "Proof we‚Äôre adorable", desc: "Day 1: I fell. Day 365: still falling. (Send help‚Ä¶ or kisses.)" },
        { src: "IMG2.JPEG", title: "Main character energy", desc: "You + me = rom-com vibes with zero commercial breaks." },
        { src: "IMG3.JPEG", title: "Certified chaos, politely", desc: "We‚Äôre the kind of love that laughs mid-argument and forgets why we started." },
        { src: "IMG4.JPEG", title: "My favorite notification", desc: "Your name on my screen still hits like the first time. ü´∂" },
        { src: "IMG5.JPEG", title: "Steal my shirt, steal my heart", desc: "You took my shirt‚Ä¶ I took the hint. Now you have both." },
        { src: "IMG6.JPEG", title: "One year down, forever loading‚Ä¶", desc: "Same vibe: you, me, and a lifetime of ‚Äòlook at us‚Äô moments." }
      ],

      autoplayMs: 3200
    };

    /***********************
     * APP CODE            *
     ***********************/
    const $ = (s) => document.querySelector(s);
    const track = $("#track");
    const dots = $("#dots");
    const uploader = $("#uploader");

    let slides = [...CONFIG.slides];
    let autoplayTimer = null;
    let heartsOn = true;

    const msDay = 1000 * 60 * 60 * 24;

    function fmtDate(iso){
      const d = new Date(iso + "T00:00:00");
      return d.toLocaleDateString(undefined, { year:"numeric", month:"long", day:"numeric" });
    }

  function setText(){
  // Title fixed
  const titleEl = $("#title");
  if (titleEl) titleEl.textContent = "Happy 1 Year ‚ú®";

  // Only set names if an element with id="names" exists somewhere
  const namesEl = $("#names");
  if (namesEl) namesEl.textContent = CONFIG.names;

  $("#subtitle").textContent = CONFIG.subtitle;
  $("#lineText").textContent = CONFIG.line;

  $("#note").textContent = CONFIG.note;
  $("#promise").textContent = CONFIG.promise;
  $("#closing").textContent = CONFIG.closing;

  $("#annivDateText").textContent = fmtDate(CONFIG.oneYearAnniversary);

  const start = new Date(CONFIG.relationshipStart + "T00:00:00");
  $("#badge").textContent = "Together since " + start.toLocaleDateString(undefined, { month:"short", year:"numeric" });

  const oneYear = new Date(CONFIG.oneYearAnniversary + "T00:00:00");
  const now = new Date();

  const firstYearDays = Math.round((oneYear - start) / msDay);
  const elapsedDays = Math.max(0, Math.floor((now - start) / msDay));
  const shownDays = Math.min(elapsedDays, firstYearDays);

  $("#daysText").textContent = shownDays + " days of us";
}

    function clearChildren(el){ while(el.firstChild) el.removeChild(el.firstChild); }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, (m) => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[m]));
    }

    // ‚úÖ Builds multiple filename candidates to fix common issues:
    // - missing "./"
    // - space vs %20
    // - JPG/JPEG casing
  function buildImageCandidates(src){
  const set = new Set();
  const raw = String(src || "").trim();

  const add = (s) => { if(s) set.add(s); };

  add(raw);
  add("./" + raw.replace(/^\.\//, ""));
  add(raw.replace(/^\.\//, ""));
  add(raw.replace(/ /g, "%20"));
  add("./" + raw.replace(/^\.\//, "").replace(/ /g, "%20"));

  const noPrefix = raw.replace(/^\.\//, "");
  const m = noPrefix.match(/^(.*)\.([^.]+)$/);
  if(m){
    const base = m[1];
    const ext = m[2].toLowerCase();

    const alts = new Set([m[2], ext, m[2].toUpperCase()]);
    if(ext === "jpeg") ["jpg","JPG","JPEG","jpeg"].forEach(e => alts.add(e));
    if(ext === "jpg") ["jpeg","JPEG","JPG","jpg"].forEach(e => alts.add(e));

    for(const e of alts){
      add(`${base}.${e}`);
      add(`./${base}.${e}`);
      add(`${base}.${e}`.replace(/ /g, "%20"));
      add(`./${base}.${e}`.replace(/ /g, "%20"));
    }
  }
  return Array.from(set);
}

    function createSlideCard(slide, index){
  const card = document.createElement("div");
  card.className = "slide";
  card.setAttribute("data-index", String(index));

  const img = document.createElement("img");
  img.loading = "lazy";
  img.alt = slide.title || ("Photo " + (index+1));

  const candidates = buildImageCandidates(slide.src);
  let i = 0;

  function tryNext(){
    if(i >= candidates.length){
      card.innerHTML = `
        <div class="img-err">
          <div>
            <div class="big">Image not found</div>
            <div class="path">${escapeHtml(String(slide.src))}</div>
            <div class="path" style="margin-top:10px;opacity:.75">
              Make sure the file is in the same folder as index.html and the name matches exactly.
            </div>
          </div>
        </div>
      `;
      return;
    }
    img.src = candidates[i++];
  }

  img.onerror = tryNext;
  tryNext();

  const cap = document.createElement("div");
  cap.className = "cap";
  cap.innerHTML = `
    <p class="t">${escapeHtml(slide.title || "Memory " + (index+1))}</p>
    <p class="d">${escapeHtml(slide.desc || "")}</p>
  `;

  card.appendChild(img);
  card.appendChild(cap);
  return card;
}

    function render(){
      clearChildren(track);
      clearChildren(dots);

      slides.forEach((s, idx) => track.appendChild(createSlideCard(s, idx)));

      slides.forEach((_, idx) => {
        const dot = document.createElement("button");
        dot.className = "dot" + (idx===0 ? " active" : "");
        dot.type = "button";
        dot.title = "Go to slide " + (idx+1);
        dot.addEventListener("click", () => scrollToIndex(idx));
        dots.appendChild(dot);
      });

      requestAnimationFrame(() => scrollToIndex(0, true));
    }

    function getCurrentIndex(){
      const rect = track.getBoundingClientRect();
      const centerX = rect.left + rect.width/2;

      const cards = [...track.querySelectorAll(".slide")];
      let best = 0, bestDist = Infinity;
      cards.forEach((c, idx) => {
        const r = c.getBoundingClientRect();
        const cx = r.left + r.width/2;
        const dist = Math.abs(cx - centerX);
        if(dist < bestDist){ bestDist = dist; best = idx; }
      });
      return best;
    }

    function setActiveDot(idx){
      [...dots.children].forEach((d, i) => d.classList.toggle("active", i === idx));
    }

    function scrollToIndex(idx, instant=false){
      const cards = track.querySelectorAll(".slide");
      if(!cards[idx]) return;
      const behavior = instant ? "auto" : "smooth";
      cards[idx].scrollIntoView({ behavior, inline:"center", block:"nearest" });
      setActiveDot(idx);
    }

    function next(){
      const idx = getCurrentIndex();
      scrollToIndex((idx + 1) % slides.length);
    }

    function prev(){
      const idx = getCurrentIndex();
      scrollToIndex((idx - 1 + slides.length) % slides.length);
    }

    function play(){
      stop();
      autoplayTimer = setInterval(next, CONFIG.autoplayMs);
      $("#play").textContent = "‚úÖ Auto-Play On";
    }

    function stop(){
      if(autoplayTimer){ clearInterval(autoplayTimer); autoplayTimer = null; }
      $("#play").textContent = "‚ñ∂ Auto-Play Photos";
    }

    let raf = null;
    track.addEventListener("scroll", () => {
      if(raf) return;
      raf = requestAnimationFrame(() => {
        setActiveDot(getCurrentIndex());
        raf = null;
      });
    });

    uploader.addEventListener("change", (e) => {
      const files = [...(e.target.files || [])];
      if(!files.length) return;

      const newSlides = files.map((f) => ({
        src: URL.createObjectURL(f),
        title: f.name.replace(/\.[^/.]+$/, ""),
        desc: "Uploaded photo"
      }));

      slides = slides.concat(newSlides);
      render();
      scrollToIndex(slides.length - newSlides.length);
      uploader.value = "";
    });

    $("#next").addEventListener("click", next);
    $("#prev").addEventListener("click", prev);
    $("#play").addEventListener("click", play);
    $("#pause").addEventListener("click", stop);
    $("#scrollToPhotos").addEventListener("click", () => $("#photos").scrollIntoView({behavior:"smooth"}));

    // Hearts
    const heartsLayer = $("#hearts");
    function spawnHeart(){
      if(!heartsOn) return;
      const h = document.createElement("div");
      h.className = "heart";
      const left = Math.random() * 100;
      const size = 10 + Math.random() * 14;
      const dur = 5 + Math.random() * 6;
      h.style.left = left + "vw";
      h.style.bottom = "-20px";
      h.style.width = size + "px";
      h.style.height = size + "px";
      h.style.animationDuration = dur + "s";
      h.style.opacity = (0.10 + Math.random() * 0.18).toFixed(2);
      h.style.boxShadow = (Math.random() > 0.6)
        ? "0 0 24px rgba(123,220,255,.25)"
        : "0 0 24px rgba(255,119,183,.25)";
      heartsLayer.appendChild(h);
      setTimeout(() => h.remove(), dur * 1000 + 200);
    }
    setInterval(spawnHeart, 260);

    $("#toggleHearts").addEventListener("click", () => {
      heartsOn = !heartsOn;
      $("#toggleHearts").textContent = "Hearts: " + (heartsOn ? "On" : "Off");
      if(!heartsOn) clearChildren(heartsLayer);
    });

    setText();
    render();
  </script>
</body>
</html>